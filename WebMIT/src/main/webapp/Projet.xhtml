<!DOCTYPE html >
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://java.sun.com/jsp/jstl/core">

	<h:head>
     <title>PROJET</title>
     <meta charset="utf-8"/>
     <link rel="icon" href="images/favicon.ico"/>
     <link rel="shortcut icon" href="images/favicon.ico" />
     <link rel="stylesheet" href="css/style.css"/>
     <script src="js/jquery.js"></script>
     <script src="js/jquery.easing.1.3.js"></script>
     <script src="js/jquery-migrate-1.1.1.js"></script>
     <script src="js/superfish.js"></script>
     <script src="js/jquery.equalheights.js"></script>
     <script src="js/jquery.ui.totop.js"></script>
     </h:head>
     
<h:body>
<!--==============================header=================================-->
<header>
	<div class="container_12">
		<div class="grid_12">
           <h1><a href="index.xhtml"><img src="images/logo.png" alt="BIZZ"/></a></h1>
		</div>
    </div>
    <nav>
        <div class="container_12">
            <div class="grid_12">
                <ul class="sf-menu">
				<li><a href="indexAdmin.xhtml">Accueil</a></li>
                     <li ><a href="#">Ressources</a>
                    <ul>
                    	<li><a href="Membre.xhtml">Membre</a></li>
                    	<li><a href="Societe.xhtml">Societe</a></li>
                     	<li><a href="Cv.xhtml">CV</a></li>
                    </ul>
                    </li>            
                            <li class="current"><a href="Projet.xhtml">Projet</a>
                            <ul>
							<li><a href="Suivi.xhtml">Suivi de projet</a></li>                           
							<li><a href="Pv.xhtml">Pv de Reunion</a></li>
							</ul>
							</li>
                    <li><a href="#">Contrat</a>
                    <ul>
                            <li><a href="ContratMembre.xhtml">Contrat Membre</a></li>
                             <li><a href="ContratSociete.xhtml">Contrat Societe</a></li>
                        </ul>
                    </li>
                    <li ><a href="Attestation.xhtml">Attestation</a></li>

                </ul>
                <div class="clear"></div>
            </div>
        </div>
    </nav>
</header>

<!--=======content================================-->
<p:growl id="message"/>
<div id="content">
	<div class="container_12 bot-1">
		
        <div class="grid_4 pull_1">
        <div class="grid_12">
        	<h2 class="indent-2">Nouveau projet</h2>
		</div>
		<a  Class="btn" href="AjouterProjet.xhtml">Nouveau projet</a>
		</div>
		
		
<!--         	<h:form id="f"> -->                
<!--                    <label class="name"> -->
<!--                         <span class="title">Titre</span> -->
<!--                         <p:inputText value="#{projetBean.projet.titreProjet}" /> -->
<!--                         <br class="clear"/> -->
<!--                         <span class="empty error-empty">*This field is required.</span> -->
<!--                     </label> -->
                        
                    
<!--                      <label class="name"> -->
<!--                         <span class="title">date début*</span> -->
<!--                         <p:inputText  value="#{projetBean.projet.dateDebut}" type="date"> -->
<!--                         <f:convertDateTime pattern="yyyy-MM-dd"/> -->
<!--                         </p:inputText><br class="clear"/> -->
<!--                         <span class="empty error-empty">*This field is required.</span> -->
<!--                     </label> -->
                    
                    
<!--                     <label class="name"> -->
<!--                     	<span class="title">date fin*</span> -->
<!--                         <p:inputText  value="#{projetBean.projet.dateFin}" type="date"> -->
<!--                         <f:convertDateTime pattern="yyyy-MM-dd"/> </p:inputText> -->
<!--                         <br class="clear"/> -->
<!--                         <span class="empty error-empty">*This field is required.</span> -->
<!--                     </label> -->
                    
                    
<!--                     <label class="name"> -->
<!--                         <span class="title">description*</span> -->
<!--                         <p:inputTextarea value="#{projetBean.projet.descProjet}"  /> -->
<!--                         <br class="clear"/> -->
<!--                         <span class="error">*The message is too short.</span> <span class="empty">*This field is required.</span> -->
<!--                     </label> -->
                    
<!--                     <br/> -->
	

<!--                    <p:commandButton value="Enregistrer" icon="ui-icon-disk" action="#{projetBean.ajouterProjet()}" update="f, :message,:tab">  -->
<!--             	 <p:confirm header="Confirmation" message="Voullez-vous ajouter des tache a ce projet?" icon="ui-icon-alert"   /> -->
<!--             	 </p:commandButton> -->
<!--             </h:form> -->
<!--             <h:form> -->
<!--              <p:confirmDialog global="true"> -->
<!--         <p:commandButton value="Oui" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" /> -->
<!--         <p:commandButton value="Non" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" /> -->
<!--     </p:confirmDialog> -->
<!--     </h:form> -->
    
<!--            		</div>  -->
           		
           		
           		
           		 <div class="grid_8 push_1">
           		  <div class="grid_12">
        	<h2 class="indent-2">Liste des projets</h2>
		</div>
 <fieldset>
            <p:dataTable var="Proj" value="#{projetBean.projets}" id="tab" paginator="true" rows="5"
             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                         rowsPerPageTemplate="5,10,15" emptyMessage="Aucun projet"
             selection="#{tacheBean.proj}"  selectionMode="single" rowKey="#{Proj.idProjet}">
    <p:ajax event="rowSelect" listener="#{tacheBean.onRowSelect}"  update=":tabT"  />
    <p:column headerText="Id">
        <h:outputText value="#{Proj.idProjet}" />
    </p:column>
 
    <p:column headerText="titre">
        <h:outputText value="#{Proj.titreProjet}" />
    </p:column>
 
    <p:column headerText="description">
        <h:outputText value="#{Proj.descProjet}" />
    </p:column>
 
    
    <p:column headerText="Operations">
    <h:form>
    <p:commandButton icon="ui-icon-pencil" action="#{projetBean.setProjet(Proj)}" />
    <p:commandButton icon="ui-icon-trash" action="#{projetBean.delete(Proj)}" update="tab,:message, :tabT">
            <p:confirm header="Confirmation" message="Êtes-vous sûr?" icon="ui-icon-alert"   />
    </p:commandButton>
    </h:form>
    </p:column>
                
    
</p:dataTable>
            </fieldset>
            <h:form>
             <p:confirmDialog global="true">
        <p:commandButton value="Oui" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
        <p:commandButton value="Non" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
    </p:confirmDialog>
    </h:form>
         
           		 </div>
           		 
           		 <div class="grid_4 pull_1">
        <div class="grid_12">
        	<h2 class="indent-2">Nouvelle tache</h2>
		</div>
		<a  Class="btn" href="Tache.xhtml">Nouvelle tache</a>
		</div>
<!--      <div class="grid_12"> -->
			<div class="grid_8 push_1">
        	<h2 class="indent-2">Liste des taches</h2>
<!-- 		</div> -->
		
		
		<p:dataTable var="t" value="#{tacheBean.taches}" id="tabT" paginator="true" rows="5"
             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                         rowsPerPageTemplate="5,10,15"  resizableColumns="true" emptyMessage="Aucun tache">
<!--              <f:facet name="header"> -->
<!--         List of Cars -->
 
<!--         <p:commandButton id="toggler" type="button" value="Columns" style="float:right" icon="ui-icon-calculator" /> -->
<!--         <p:columnToggler datasource="tabT" trigger="toggler" /> -->
<!--     </f:facet> -->
			<p:column headerText="Projet">
			<h:outputLabel value="#{t.id.idProjet}" />
			</p:column>
			<p:column headerText="Tache">
			<h:outputLabel value="#{t.id.idTache}" />
			</p:column>
			<p:column headerText="Nom tache">
			<h:outputLabel value="#{t.nomTache}" />
			</p:column>
			<p:column headerText="date début">
			<h:outputLabel value="#{t.dateD}" />
			</p:column>
			<p:column headerText="date fin">
			<h:outputText value="#{t.dateF}" /> 
			</p:column>

			<p:column headerText="Etat ">
			<h:outputText value="#{t.etatTache}" />
			</p:column>
			
			 <p:column headerText="Operations">
    <h:form>
    <p:commandButton icon="ui-icon-pencil" action="#{tacheBean.setTache(t)}" >
    <p:dialog><p:outputLabel value="dhdhg"/></p:dialog>
    </p:commandButton>
    <p:commandButton icon="ui-icon-trash" action="#{tacheBean.delete(t)}" update=":tab,:message">
            <p:confirm header="Confirmation" message="Êtes-vous sûr?" icon="ui-icon-alert"   />
    </p:commandButton>
    </h:form>
    </p:column>
		</p:dataTable>
           	</div>	 
           		 </div> 
	</div>

 <!--==============================footer=================================-->
<footer>
	<div class="container_12">
		<div class="grid_8">
			<span>MIT 2016 | Make In Tunisia</span>
		</div>
        <div class="grid_4">
        	<ul class="soc-icon">
            	<li><a href="#"><img src="images/icon-3.png" alt=""/></a></li>
                <li><a href="#"><img src="images/icon-2.png" alt=""/></a></li>
                <li><a href="#"><img src="images/icon-1.png" alt=""/></a></li>
            </ul>
        </div>
	</div>
</footer>
</h:body>
</html>